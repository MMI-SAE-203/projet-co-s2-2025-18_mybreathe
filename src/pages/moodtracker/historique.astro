---
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";
import { allHumeurs } from "../../scripts/backend.mjs";

const moodHistory = await allHumeurs();
---

<Layout>
    <div class="flex flex-col items-center p-4">
        <h2 class="text-2xl mb-8 text-white">Janvier 2026</h2>

        <ul class="list-none p-0 w-full max-w-md">
            {
                moodHistory?.map((mood) => (
                    <li
                        class="flex justify-between items-center bg-[#2c2c5d] p-4 rounded-2xl mb-4 text-white text-lg shadow-md"
                        key={mood.id}
                    >
                        <div class="bg-white text-[#2c2c5d] py-2 px-3 rounded-xl font-bold text-base">
                            {new Date(mood.created).toLocaleDateString("fr-FR")}
                        </div>
                        <div class="text-2xl">{mood.humeur}</div>
                    </li>
                ))
            }
        </ul>
    </div>
</Layout>
